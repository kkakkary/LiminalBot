{"version":3,"sources":["../../../../src/optional-listeners/message-command-listeners/CoreMessageCommandTyping.ts"],"names":["Listener","Events","isStageChannel","ChannelType"],"mappings":";;;;;;;;;AAMO,IAAM,aAAA,GAAN,MAAM,aAAA,SAAqBA,qBAA0C,CAAA;AAAA,EACpE,YAAY,OAAiC,EAAA;AACnD,IAAA,KAAA,CAAM,OAAS,EAAA,EAAE,KAAO,EAAAC,iBAAA,CAAO,mBAAmB,CAAA;AAClD,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAK,SAAU,CAAA,MAAA,CAAO,QAAQ,MAAU,IAAA,KAAA;AAAA;AACxD,EAEA,MAAa,GAAA,CAAI,OAAkB,EAAA,OAAA,EAAyB,OAAmC,EAAA;AAC9F,IAAA,IAAI,CAAC,OAAQ,CAAA,MAAA,IAAUC,kCAAe,CAAA,OAAA,CAAQ,OAAO,CAAG,EAAA;AACvD,MAAA;AAAA;AAGD,IAAA,IAAI,OAAQ,CAAA,OAAA,CAAQ,IAAS,KAAAC,sBAAA,CAAY,OAAS,EAAA;AACjD,MAAA;AAAA;AAGD,IAAI,IAAA;AACH,MAAM,MAAA,OAAA,CAAQ,QAAQ,UAAW,EAAA;AAAA,aACzB,KAAO,EAAA;AACf,MAAQ,OAAA,CAAA,MAAA,CAAO,IAAK,CAAAF,iBAAA,CAAO,yBAA2B,EAAA,KAAA,EAAgB,EAAE,GAAG,OAAA,EAAS,OAAS,EAAA,OAAA,EAAS,CAAA;AAAA;AACvG;AAEF,CAAA;AArB4E,MAAA,CAAA,aAAA,EAAA,cAAA,CAAA;AAArE,IAAM,YAAN,GAAA","file":"CoreMessageCommandTyping.cjs","sourcesContent":["import { isStageChannel } from '@sapphire/discord.js-utilities';\nimport { ChannelType, type Message } from 'discord.js';\nimport { Listener } from '../../lib/structures/Listener';\nimport type { MessageCommand } from '../../lib/types/CommandTypes';\nimport { Events, type MessageCommandRunPayload } from '../../lib/types/Events';\n\nexport class CoreListener extends Listener<typeof Events.MessageCommandRun> {\n\tpublic constructor(context: Listener.LoaderContext) {\n\t\tsuper(context, { event: Events.MessageCommandRun });\n\t\tthis.enabled = this.container.client.options.typing ?? false;\n\t}\n\n\tpublic async run(message: Message, command: MessageCommand, payload: MessageCommandRunPayload) {\n\t\tif (!command.typing || isStageChannel(message.channel)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (message.channel.type === ChannelType.GroupDM) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tawait message.channel.sendTyping();\n\t\t} catch (error) {\n\t\t\tmessage.client.emit(Events.MessageCommandTypingError, error as Error, { ...payload, command, message });\n\t\t}\n\t}\n}\n"]}